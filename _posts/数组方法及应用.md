---
title: 数组方法及应用
date: 2016-10-16 18:44:20
categories: JavaScript
---

什么是数组？
> 使用单独的变量名来存储一系列的值

# 创建方式
- 实例创建
```js
var arr=new Array(3);
console.log(arr);//[,,,]  length:3
var arr=new Array(1,2,3);
console.log(arr);//[1,2,3]  length:3
```

- 字面量创建
```
var arr=[1,2,3,[1,2],'abc',{name:'xy'},null,undefined,true,function(){console.log(1)}];//数组内的元素可以是任何数据类型的值
```

# 检测数组
## Array.isArray()
> Array.isArray()是ES5新增的方法，用来确定一个值是不是数组

```js
console.log(Array.isArray([]));//true
console.log(Array.isArray('123'));false
```

# 数组的方法
## 增删改查
### push()
> 向数组末尾添加元素

**语法**：arr.push([val1],[val2]...)
**返回值**：返回数组的新长度，原数组发生改变
```js
var arr=[1,2,3,4];
var res=arr.push(5,6);
console.log(res);//6
console.log(arr);[1,2,3,4,5,6]
```

### pop()
> 删除数组末尾的元素

**语法**：arr.pop()
**返回值**：返回删除的元素，原数组发生改变
```js
var arr=[1,2,3,4];
var res=arr.pop();
console.log(res);//4
console.log(arr);//[1,2,3]
```

### unshift()
> 向数组开头添加元素

**语法**：arr.unshift([val1,val2...])
**返回值**：返回数组的新长度，原数组发生改变
```js
var arr=[1,2,3,4];
var res=arr.unshift(5,6);
console.log(res);//6
console.log(arr);//[5,6,1,2,3,4]
```

### shift()
> 删除数组开头的元素

**语法**：arr.shift()
**返回值**：返回删除的元素，原数组发生改变
```js
var arr=[1,2,3,4];
var res=arr.shift();
console.log(res);//1
console.log(arr);//[2,3,4]
```

### splice()
> 用来删除/修改数组中的元素，或者向数组添加元素

**语法**：arr.splice([start],[count],[val]) 从索引start开始，删除count个，替换为val。
**返回值**：返回删除的元素(注意：是个数组)，原数组发生改变
**修改元素**：splice([start],[count],[val])
```js
var arr=[1,2,3,4];
var res=arr.splice(1,1,5);
console.log(res);//[2]
console.log(arr);//[1,5,3,4]
```

**删除元素**：arr.splice([start],[count])
如果没有count值，默认删除到最后
```js
var arr=[1,2,3,4];
var res=arr.splice(1,2);
console.log(res);//[2,3]
console.log(arr);//[1,4]
```

**添加元素**：arr.splice([start],0,[val])
```
var arr=[1,2,3,4];
var res=arr.splice(1,0,5,6);
console.log(res);//[]
console.log(arr);//[1,5,6,2,3,4]
```

**总结与拓展**：
向数组末尾添加元素
```js
arr.push([val1],[val2]...)
arr.[arr.length]=[val]
arr.splice(arr.length,0,[val])
```

删除数组末尾的元素
```js
arr.pop()
arr.length--
arr.splice(arr.length-1,1)/arr.splice(arr.length-1)
```

向数组开头添加元素
```js
arr.unshift()
arr.splice(0,0,[val])
```

删除数组开头的元素
```js
arr.shift()
arr.splice(0,1)
```

清空数组
```js
arr.splice(0)
```

克隆数组
```js
var res=arr.splice(0)
arr.slice()/ arr.slice(0)
arr.concat()
```

## 位置方法
### indexOf()
> 当前元素在数组中第一次出现的位置

**语法**：arr.indexOf([val])
**返回值**：返回该元素的索引值
```js
var arr=[1,2,3,4,2,4,2];
var res=arr.indexOf(2);
console.log(res);//1
```

### lastIndexOf()
> 当前元素在数组中最后一次出现的位置

**语法**：arr.lastIndexOf([val])
**返回值**：返回该元素的索引值
```js
var arr=[1,2,3,4,2,4,2];
var res=arr.lastIndexOf(2);
console.log(res);//6
```

## 数组截取
### slice()
> 截取数组中的元素

**语法**：arr.slice([start],[end])  从索引start开始，截取到索引end，不包括end，如果end没有值，默认截取到最后
**返回值**：返回截取到的新数组，原数组不发生改变
```js
var arr=[1,2,3,4,2,4,2];
var res=arr.slice(2,3);
console.log(res);//[3]
console.log(arr);//[1,2,3,4,2,4,2]
```

## 数组拼接
### concat()
> 拼接数组

**语法**：arr.concat([val1],[val2]...)
**返回值**：返回拼接好的新数组，原数组不发生改变
```js
var arr=[1,2,3,4];
var res=arr.concat('a','b','c');
console.log(res);//[1,2,3,4,'a','b','c']
console.log(arr);//[1,2,3,4]
```

## 数组转换
### toString()
> 将数组转化为字符串

**语法**：arr.toString()
**返回值**：返回一个字符串，原数组不发生改变
```js
var arr=[1,2,3,4];
var res=arr.toString();
console.log(res);//'1,2,3,4'
console.log(arr);//[1,2,3,4]
```

### join()
> 将数组转化为字符串，可以指定分隔符，默认分隔符是逗号

**语法**：arr.join([separator])
**返回值**：返回一个字符串，原数组不发生改变
```js
var arr=[1,2,3,4];
var res=arr.join('-');
console.log(res);//'1-2-3-4'
console.log(arr);//[1,2,3,4]
```

## 数组排序
### sort()
> 给数组中的元素排序

**语法**：arr.sort()
**返回值**：返回排好序的数组，原数组发生改变
如果没有参数，给数组中的元素按照字符编码排序
```js
var arr=[6,3,5,8,2];
var res=arr.sort();
console.log(res);//[2,3,5,6,8]
console.log(arr);//[2,3,5,6,8]
```

如果想按照其他标准排序，需要提供比较函数，该函数具有两个参数：a和b，分别代表要排序项的前一项和后一项
**升序**：
```js
arr.sort(function(a,b){
    return a-b
})
```

**降序**：
```js
arr.sort(function(a,b){
    return b-a
})
```

排序原理：冒泡排序

### reverse()
> 将数组进行翻转

**语法**：arr.reverse([val1],[val2]...)
**返回值**：返回翻转好的数组，原数组发生改变
```js
var arr=[1,2,3,4];
var res=arr.reverse();
console.log(res);//[4,3,2,1]
console.log(arr);//[4,3,2,1]
```

## 遍历方法
### forEach()
> 对数组中的每个元素调用回调函数，没有返回值

```js
var arr=[1,2,3,4];
var res=arr.forEach(function (item,index) {
    console.log(item+1);//2 3 4 5
    return item+1;
});
console.log(res);//undefined
```

### map()
> 用于对数组进行处理,并返回处理之后的新数组.

```js
var arr=[1,2,3,4];
var res=arr.map(function (item,index) {
    console.log(item+1);//2 3 4 5
    return item+1;
});
console.log(res);//[2,3,4,5]
```

### find()
> Es6新增的遍历方法,返回第一个满足条件的元素，只返回一个元素，如果没有匹配项，就返回undefined

```js
var arr=[1,2,3,2,4];
var res=arr.find(function (item,index) {
   return item==2;
});
console.log(res);//2
```

### filter()
> 用于筛选出符合要求的数据,并返回该数据集合，如果没有匹配项，就返回空数组

```js
var arr=[1,2,3,2,4];
var res=arr.filter(function (item,index) {
    return item!=2;//相当于 if(item!=2) return item;
});
console.log(res);//[1,3,4]
```

### every()
> 检查数组元素是否都符合某个条件，只要有一个不符合返回false，否则返回true

```js
var arr=[1,2,3,2,4];
var res=arr.every(function (item,index) {
    return item!=2;
});
console.log(res);//false
```

### some()
> 检查数组中元素是否符合某个条件，只要有一个符合返回true，否则返回false

```js
var arr=[1,2,3,2,4];
var res=arr.some(function (item,index) {
    return item!=2;
});
console.log(res);//true
```

## 归并方法
### reduce()
> 从左往右对数组中的每个元素调用回调函数，返回值为累计结果，并且此返回值在下一次调用回调函数时作为第一个参数提供

```js
var arr=[1,2,3,4];
var res=arr.reduce(function (a,b) {
    console.log(a,b);
    //1 2
    //3 3
    //6 4
   return a+b;
});
console.log(res);//10
```

```js
//求最大值和最小值
var arr=[1,9,3,4];
var res=arr.reduceRight(function (a,b) {
    return Math.max(a,b);//求最大值
    //return Math.min(a,b);//求最小值
});
console.log(res);//9
```

### reduceRight()
> 从右往左对数组中的每个元素调用回调函数，返回值为累计结果，并且此返回值在下一次调用回调函数时作为第一个参数提供

```js
var arr=[1,2,3,4];
var res=arr.reduceRight(function (a,b) {
    console.log(a,b);
    //4 3
    //7 2
    //9 1
   return a+b;
});
console.log(res);//10
```